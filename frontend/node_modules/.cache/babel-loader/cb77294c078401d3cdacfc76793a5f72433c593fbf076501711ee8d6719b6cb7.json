{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nconst useValidation = (value, validations) => {\n  _s();\n  const [isEmpty, setIsEmpty] = useState(true);\n  const [isEmailError, setInEmailError] = useState(false);\n  const [inputValid, setInputValid] = useState(false);\n  const [FIOError, setFIOError] = useState(false);\n  const [ageError, setageError] = useState(false);\n  const [phoneError, setphoneError] = useState(false);\n  const [locationError, setlocationError] = useState(false);\n  useEffect(() => {\n    for (const validation in validations) {\n      switch (validation) {\n        case 'isEmpty':\n          value.isEmpty ? setIsEmpty(false) : setIsEmpty(true);\n          break;\n        case 'isEmail':\n          const re = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;\n          re.test(String(value).toLowerCase()) ? setInEmailError(false) : setInEmailError(true);\n          break;\n        case 'FIO':\n          const rex1 = /^[а-яА-ЯёЁ]+ [а-яА-ЯёЁ]+ ?[а-яА-ЯёЁ]+$/;\n          rex1.test(String(value).toLowerCase()) ? setFIOError(false) : setFIOError(true);\n          break;\n        case 'age':\n          const rex2 = /^(?:1[01][0-9]|120|1[8-9]|[2-9][0-9])$/;\n          rex2.test(String(value).toLowerCase()) ? setageError(false) : setageError(true);\n          break;\n        case 'phone':\n          const rex3 = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\n          rex3.test(String(value).toLowerCase()) ? setphoneError(false) : setphoneError(true);\n          break;\n        case 'location':\n          const rex4 = /[а-яА-ЯёЁ]/;\n          rex4.test(String(value).toLowerCase()) ? setlocationError(false) : setlocationError(true);\n          break;\n      }\n    }\n  }, [value]);\n  return {\n    isEmpty,\n    isEmailError,\n    inputValid,\n    FIOError,\n    ageError,\n    locationError,\n    phoneError\n  };\n};\n_s(useValidation, \"DkXNQ1VTaJdVRTN+Io5GvqW+fzU=\");\nconst useInput = (initionalValue, validations) => {\n  _s2();\n  const [value, setValue] = useState(initionalValue);\n  const [isDirty, setIsDirty] = useState(false);\n  const [formValue, setFormValue] = useState({});\n  const valid = useValidation(value, validations);\n  const onChange = e => {\n    setValue(e.target.value);\n    setFormValue(e.target.value);\n  };\n  const onBlur = e => {\n    setIsDirty(true);\n  };\n  return {\n    value,\n    onChange,\n    onBlur,\n    formValue,\n    isDirty,\n    ...valid\n  };\n};\n_s2(useInput, \"guLFAEypl1/sc4p4vY4jRusynr4=\", false, function () {\n  return [useValidation];\n});\nexport default useInput;","map":{"version":3,"names":["useState","useEffect","useValidation","value","validations","_s","isEmpty","setIsEmpty","isEmailError","setInEmailError","inputValid","setInputValid","FIOError","setFIOError","ageError","setageError","phoneError","setphoneError","locationError","setlocationError","validation","re","test","String","toLowerCase","rex1","rex2","rex3","rex4","useInput","initionalValue","_s2","setValue","isDirty","setIsDirty","formValue","setFormValue","valid","onChange","e","target","onBlur"],"sources":["E:/kyrsach/frontend/src/Validator.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useValidation=(value,validations)=>{\r\n    const [isEmpty,setIsEmpty]=useState(true);\r\n    const [isEmailError,setInEmailError]=useState(false);\r\n    const [inputValid,setInputValid]=useState(false);\r\n    const [FIOError,setFIOError]=useState(false);\r\n    const [ageError,setageError]=useState(false);\r\n    const [phoneError,setphoneError]=useState(false);\r\n    const [locationError,setlocationError]=useState(false);\r\n    useEffect(()=>{\r\n        for (const validation in validations) {\r\n            switch(validation){\r\n             case 'isEmpty':\r\n                 value.isEmpty ? setIsEmpty(false) : setIsEmpty(true);\r\n                 break;\r\n             case 'isEmail':\r\n                const re =/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;\r\n                re.test(String(value).toLowerCase()) ? setInEmailError(false) : setInEmailError(true);\r\n                break;\r\n            case 'FIO':\r\n                const rex1 =/^[а-яА-ЯёЁ]+ [а-яА-ЯёЁ]+ ?[а-яА-ЯёЁ]+$/;\r\n                rex1.test(String(value).toLowerCase())? setFIOError(false) : setFIOError(true);\r\n                break;\r\n            case 'age':\r\n                const rex2 =/^(?:1[01][0-9]|120|1[8-9]|[2-9][0-9])$/;\r\n                rex2.test(String(value).toLowerCase())? setageError(false) : setageError(true);\r\n                break;\r\n            case 'phone':\r\n                const rex3 =/^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\r\n                rex3.test(String(value).toLowerCase())? setphoneError(false) : setphoneError(true);\r\n                break;\r\n            case 'location':\r\n                const rex4 =/[а-яА-ЯёЁ]/;\r\n                rex4.test(String(value).toLowerCase())? setlocationError(false) : setlocationError(true);\r\n                break\r\n            }\r\n         }\r\n    },[value]);\r\n\r\n\r\n    return {\r\n        isEmpty,isEmailError,inputValid,FIOError,ageError,locationError,phoneError\r\n    }\r\n    \r\n}\r\n\r\nconst useInput = (initionalValue,validations) => {\r\n  const [value, setValue] = useState(initionalValue);\r\n  const [isDirty, setIsDirty] = useState(false);\r\n  const [formValue, setFormValue] = useState({})\r\n  const valid =useValidation(value,validations)\r\n  const onChange = (e) => {\r\n    setValue(e.target.value);\r\n   \r\n    setFormValue(e.target.value);\r\n  };\r\n  const onBlur = (e) => {\r\n    setIsDirty(true);\r\n  };\r\n  return { value, onChange, onBlur,formValue,isDirty,...valid };\r\n};\r\nexport default useInput;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}